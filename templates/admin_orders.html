{% extends 'base.html' %}

{% block title %}Admin Orders{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Admin Orders</h1>
    {% for order in orders %}
    <div class="card mb-3">
        <div class="card-header">
            Order ID: {{ order.id }}
        </div>
        <div class="card-body">
            <h5 class="card-title">Email: {{ order.email }}</h5>
            <p class="card-text">Address: {{ order.address }}</p>
            <p class="card-text">Food Item: {{ order.food_item }}</p>
            <p class="card-text">Card Number: {{ order.card_number }}</p>
            <p class="card-text">Card Name: {{ order.card_name }}</p>
            <p class="card-text">Expiration Date: {{ order.expiration_date }}</p>
            <p class="card-text">CVV: {{ order.cvv }}</p>
            
            <h5 class="card-title mt-3">Cart Items:</h5>
            <ul class="list-group">
                {% for item in order.cart_items %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <div>
                        <strong>{{ item.name }}</strong> - ${{ item.price }}<br>
                        <small>{{ item.description }}</small>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
        
        <div class="card-footer">
            <form method="POST" action="{{ url_for('delete_order', order_id=order.id) }}">
                <button type="submit" class="btn btn-danger btn-sm">Delete Order</button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
